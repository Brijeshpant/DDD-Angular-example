<!DOCTYPE html>
<html>
<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
<body ng-app="app" ng-controller="userCtrl">
<div class="container">
    <h3>User Dashboard</h3>
    <table class="table table-striped">
        <tr>
            <td>Name:</td>
            <td>{{user.name}}</td>
        </tr>
        <tr>
            <td>Email:</td>
            <td>{{user.profile.email}}</td>
        </tr>
        <tr>
            <td>Education:</td>
            <td>{{user.profile.education.degree}}</td>
        </tr>
        <tr>
            <td>Applied Jobs:</td>
            <td><span ng-repeat="job in user.appliedJob track by $index"> {{job.profile}}</Span></td>
        </tr>
    </table>
    <table class="table table-striped">
        <thead>
        <tr>
            <th>Profile</th>
            <th>Qualification</th>
            <th>Apply</th>
        </tr>
        </thead>
        <tbody>

        <tr ng-repeat=" job in user.userViewableJobs(jobs)">
            <td>{{ job.profile}}</td>
            <td><span ng-repeat=" qualification in job.qualification "> {{qualification}}</Span></td>
            <td>
                <span ng-if="user.canApplyForJob(job)">
                    <button class="btn glyphicon glyphicon-ok" ng-click="user.applyForJob(job)" value="Apply">Apply</button></span> </span>
                 <span ng-if="user.hasAlreadyAppliedForJob(job)">
                 <button class="btn glyphicon glyphicon-remove" ng-click="user.unApplyJob(job)" value="UnApply">UnApply</button></span>
            </td>
        </tr>
        </tbody>
    </table>
    <hr>
</div>

<script src="js/app.js"></script>
<script src="js/domain.js"></script>
<script src="js/service.js"></script>


</body>
</html>
